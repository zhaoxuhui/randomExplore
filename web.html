<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <title>随机访问示例</title>

    <script type="text/javascript">
        function sendRequest() {
            var requestInfo = "randomRequest";

            // 打开连接
            var ws = new WebSocket("ws://localhost:4200");

            // 发送数据
            ws.onopen = function () {
                // 使用send()方法发送数据
                ws.send(requestInfo);
            };

            // 接收数据
            ws.onmessage = function (evt) {
                var received_msg = evt.data;
                alert(received_msg);
                // 作为一个好习惯，在接收完数据后就关闭连接，这样可以减少服务器的负担
                ws.close();
				
				//window.location.href = received_msg;//本窗口打开网页
				window.open(received_msg);//新建窗口打开网页
            };

            // 关闭连接后的事件
            ws.onclose = function () {
            };
        }
    </script>
</head>
<body>
<button type="button" onclick="sendRequest()">随机选择</button>
</body>
</html>